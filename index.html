<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>PhoneGap Generic Test</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="buttons.css" />
    <style>
    body {margin:0px;font-size:large;}
	.hidden {visibility:collapse;display:none;}
	.expose {visibility:visible;display:block;} /* Here for completeness only. */
	.copyright {padding:5px;align:left;font-style:italic;font-size:small;}
    </style>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/fastclick.js"></script>
    <script type="text/javascript" charset="utf-8" src="js/zepto-1.1.6.js"></script>
    <script type="text/javascript">
	var gWatchID = null;
	var gCompassWatchID = null;
	var gOptions = { frequency: 2000 };  // Update every 3 seconds
	var gOption2 = { filter: 30 };      // degrees required to initiate a watchHeading success callback
	//
    // Wait for PhoneGap to load
	document.addEventListener("deviceready", onDeviceReady, false);
	// Network status listeners
	document.addEventListener("offline", onOffline, false);
	document.addEventListener("online", onOnline, false);
	//
	function clearWatch() {
		accelOff();
		compassOff();
	}
	//
	function onDeviceReady() {
		//alert("device ready.");
		// Accelerometer
		navigator.accelerometer.getCurrentAcceleration(accelUpdate, function() {alert("Error on getCurrentAccel");});
		gWatchID = navigator.accelerometer.watchAcceleration(accelUpdate,
				function() {
					alert("Error on watchAccel");
				},
				gOptions);
		// Compass
		navigator.compass.getCurrentHeading(compassUpdate, function (compassError) { alert('Compass error: ' + compassError.code); });
		gCompassWatchID = navigator.compass.watchHeading(compassUpdate,
				function (compassError) { alert('Compass error: ' + compassError.code); },
				gOptions);
		// Network Status
		updateConnection();
		// Device Information
		updateDeviceInfo()
	}
	//
	function onLoad() {
		//alert("body loaded.");
		clearWatch();
	}
    </script>
</head>
<body onload="onLoad()">
<div class="button button-block button-large">
	<img align=left src=favicon-48x48.png>
	Phonegap Generic Test
	<button onclick='navigator.app.exitApp()' class="button button-pill button-primary button-large" style="margin:0.1em;float:right;">Exit</button>
</div>

<span onclick='clearWatch()'><button class="button button-pill button-primary button-large" style="margin:0.1em">Clear Watch</button></span>

<div id=gforceInformation> <!-- aka accelerometer -->
	<div id=ax class="button button-block button-action button-large" style="margin:0 0.5em;">X <span id=accelX></span></div>
	<div id=ay class="button button-block button-action button-large" style="margin:0 0.5em;">Y <span id=accelY></span></div>
	<div id=az class="button button-block button-action button-large" style="margin:0 0.5em;">Z <span id=accelZ></span></div>
	<div id=ts class="button button-block button-primary button-large" style="margin:0 0.2em;">TS <span id=timestamp></span></div>
</div>

<div id=hd class="button button-block button-pill button-primary button-large" style="margin:1em;">Heading: <span id=heading></span></div>

<div id=networkInformation>
	<div id=nt class="button button-block button-primary button-large" style="margin:0 0.2em;"><span id=networktype>No network connection</span></div>
	<div id=ns class="button button-block button-action button-large" style="margin:0 0.2em;">Status: <span id=networkstatus>Offline</span></div>
</div>

<div id=deviceInformation>
	<div id=c class="button button-block button-royal">cordova <span id=cordova></span></div>
	<div id=m class="button button-block button-action">model <span id=model></span></div>
	<div id=p class="button button-block button-primary">platform <span id=platform></span></div>
	<div id=u class="button button-block button-caution">UUID <span id=uuid>uuid</span></div>
	<div id=v class="button button-block button-highlight">Version <span id=version>version</span></div>
</div>

<div class="copyright" style="padding:5px;align:left;font-style:italic;font-size:small;">
    <span id=copyright>Created by Jesus Monroy, Jr. &copy; 2015</span>
</div>
</body>
    <script type="text/javascript" charset="utf-8" src="pg-accel.js"></script>
    <script type="text/javascript" charset="utf-8" src="pg-compass.js"></script>
    <script type="text/javascript" charset="utf-8" src="pg-device-info.js"></script>
    <script type="text/javascript" charset="utf-8" src="pg-network-info.js"></script>
</html>






